{% extends "layout.html" %}
{% block page %}

<div class="box" style="width: 40%; margin: auto; margin-top: 5em;">
  <div class="has-text-centered is-size-4 has-text-weight-bold"><span>Granate</span></div>
  {% macro render_field(field, placeholder=None) %} {% if field.errors %}
  <div>
    {% elif field.flags.error %}
    <div>
      {% else %}
      <div>
        {% endif %} {% set css_class = 'form-control ' + kwargs.pop('class', '')
        %} {{ field(class=css_class, placeholder=placeholder, **kwargs) }}
      </div>
      {% endmacro %}

      <div>
        <div>
          {% with errors = get_flashed_messages(category_filter=["error"]) %} {%
          if errors %}
          <div>
            {% for error in errors %} {{ error }}<br />
            {% endfor %}
          </div>
          {% endif %} {% endwith %} {% if form.errors %}
          <div>
            {% for field, error in form.errors.items() %} {% for e in error %}
            {{ e }}<br />
            {% endfor %} {% endfor %}
          </div>
          {% endif %}
          <form method="POST" action="." accept-charset="UTF-8" role="form">
            {{ form.csrf_token }}
            {{ render_field(form.email, placeholder="Email Address",
            class="input is-fullwidth", autofocus="") }} {{
            render_field(form.password, placeholder="Password", class="input
            is-normal", style="margin-top:1em;") }}
            <div style="margin-top:1em;">
              <label>
                <input type="checkbox" name="remember" value="1" /> Remember Me
              </label>
              <a role="button" href="">Forgot your password?</a
              ><span class="clearfix"></span>
            </div>
            <button type="submit" name="submit" class="button is-fullwidth">
              Sign in
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock page %}
